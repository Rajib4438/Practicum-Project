<div class="show-order-container">
  <h2>Seller Sold Products</h2>

  <div *ngIf="loading" class="loading">
    Loading orders...
  </div>

  <div *ngIf="errorMessage" class="error">
    {{ errorMessage }}
  </div>

  <div *ngIf="!loading && orders.length > 0" class="table-wrapper">
    <table class="order-table">
      <thead>
        <tr>
          <th>#</th>
          <th>Product</th>
          <th>Price</th>
          <th>Quantity</th>
          <th>Customer</th>
          <th>Phone</th>
          <th>Address</th>
          <th>Status</th>
          <th>Order Date</th>
        </tr>
      </thead>

      <tbody>
        <tr *ngFor="let o of orders; let i = index">
          <td>{{ i + 1 }}</td>
          <td>{{ o.ProductName }}</td>
          <td>৳ {{ o.price }}</td>
          <td>{{ o.quantity || 1 }}</td>
          <td>{{ o.CustomerName }}</td>
          <td>{{ o.CustomerPhone }}</td>
          <td>{{ o.CustomerAddress }}</td>

          <!-- ✅ STATUS DROPDOWN (ADMIN STYLE) -->
          <td>
            <select
              class="status-select"
              [value]="o.OrderStatus"
              (change)="updateStatus(o.OrderId, $any($event.target).value)">

              <option value="Pending">Pending</option>
              <option value="Confirmed">Confirmed</option>
              <option value="Cancelled">Cancelled</option>

            </select>
          </td>

          <td>{{ o.OrderDate | date:'medium' }}</td>
        </tr>
      </tbody>
    </table>
  </div>

  <p *ngIf="!loading && orders.length === 0" class="empty">
    No sold products yet.
  </p>
</div>
