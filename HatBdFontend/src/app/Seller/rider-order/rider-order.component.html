<div class="content">
  <h2 class="title">My Assigned Orders</h2>

  <div class="order-list">
    <div class="order-card" *ngFor="let o of assignedOrders">
      <div>
        <h3>Order #{{ o.id }}</h3>
        <p><strong>Customer:</strong> {{ o.name }}</p>
        <p><strong>Phone:</strong> {{ o.phonenumber || o.phoneNumber }}</p>
        <p><strong>Address:</strong> {{ o.address }}</p>
        <p><strong>Total:</strong> {{ o.totalprice || o.totalPrice }} à§³</p>
      </div>

      <div class="order-actions">
        <span class="order-status" [ngClass]="(o.status || '').toLowerCase().replace(' ', '-')">
          {{ o.status || 'Pending' }}
        </span>

        <select [(ngModel)]="o.status" (change)="updateStatus(o, o.status)">
          <option value="Pending">Pending</option>
          <option value="On Delivery">On Delivery</option>
          <option value="Delivered">Delivered</option>
        </select>
      </div>
    </div>

    <!-- No Data Fallback -->
    <div *ngIf="assignedOrders.length === 0" style="text-align: center; padding: 20px; color: #666;">
      <p>No orders assigned to you yet.</p>
    </div>
  </div>
</div>